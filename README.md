# VTPA Payroll System

Há»‡ thá»‘ng táº¡o báº£ng lÆ°Æ¡ng cho CÃ´ng ty Cá»• pháº§n 27-7 Há»“ng Quang (VTPA).

## ğŸš€ Demo Online

- **Frontend**: https://btbinh2710.github.io/vtpa-payroll/
- **Backend**: https://vtpa-payroll.onrender.com

## Cáº¥u trÃºc dá»± Ã¡n

```
VTPA_Payroll/
â”œâ”€â”€ index.html          # File HTML chÃ­nh
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css       # File CSS tÃ¹y chá»‰nh
â”œâ”€â”€ js/
â”‚   â””â”€â”€ script.js       # File JavaScript chÃ­nh
â”œâ”€â”€ server.js           # Backend server (Node.js)
â”œâ”€â”€ package.json        # Dependencies
â”œâ”€â”€ render.yaml         # Render.com deployment config
â”œâ”€â”€ logo.jpg            # Logo cÃ´ng ty
â”œâ”€â”€ DejaVuSans.ttf      # Font chá»¯ cho PDF
â””â”€â”€ README.md           # File hÆ°á»›ng dáº«n nÃ y
```

## TÃ­nh nÄƒng chÃ­nh

### 1. Nháº­p thá»§ cÃ´ng
- Nháº­p thÃ´ng tin nhÃ¢n viÃªn tá»«ng ngÆ°á»i
- TÃ­nh toÃ¡n lÆ°Æ¡ng tá»± Ä‘á»™ng
- Xem trÆ°á»›c báº£ng lÆ°Æ¡ng
- Xuáº¥t PDF

### 2. Upload Excel
- Import dá»¯ liá»‡u tá»« file Excel
- Xá»­ lÃ½ hÃ ng loáº¡t nhiá»u nhÃ¢n viÃªn
- Táº£i template Excel máº«u

### 3. Gá»­i Email (Online Backend)
- Backend deploy trÃªn Render.com
- Cáº¥u hÃ¬nh SMTP (Gmail/Office 365)
- Gá»­i báº£ng lÆ°Æ¡ng qua email
- Test káº¿t ná»‘i email

### 4. CÃ i Ä‘áº·t
- Cáº¥u hÃ¬nh thÃ´ng tin cÃ´ng ty
- Thiáº¿t láº­p email server

## CÃ¡ch sá»­ dá»¥ng

### BÆ°á»›c 1: Má»Ÿ á»©ng dá»¥ng
Má»Ÿ file `index.html` trong trÃ¬nh duyá»‡t web hoáº·c truy cáº­p demo online.

### BÆ°á»›c 2: Chá»n cháº¿ Ä‘á»™ nháº­p liá»‡u
- **Nháº­p thá»§ cÃ´ng**: Nháº­p tá»«ng nhÃ¢n viÃªn má»™t
- **Upload Excel**: Import file Excel cÃ³ nhiá»u nhÃ¢n viÃªn
- **Gá»­i Email**: Cáº¥u hÃ¬nh vÃ  gá»­i email
- **CÃ i Ä‘áº·t**: Thiáº¿t láº­p há»‡ thá»‘ng

### BÆ°á»›c 3: Nháº­p thÃ´ng tin nhÃ¢n viÃªn
- Há» vÃ  tÃªn
- MÃ£ nhÃ¢n viÃªn
- Bá»™ pháº­n/Chi nhÃ¡nh
- Chá»©c vá»¥
- Email
- NgÃ y cÃ´ng thá»±c táº¿
- Má»©c lÆ°Æ¡ng cÆ¡ báº£n
- Tá»· lá»‡ hÆ°á»Ÿng lÆ°Æ¡ng
- CÃ¡c khoáº£n thu nháº­p khÃ¡c
- CÃ¡c khoáº£n kháº¥u trá»«

### BÆ°á»›c 4: TÃ­nh toÃ¡n vÃ  xuáº¥t
- Nháº¥n "TÃ­nh toÃ¡n" Ä‘á»ƒ tÃ­nh lÆ°Æ¡ng
- Nháº¥n "Xem trÆ°á»›c" Ä‘á»ƒ xem báº£ng lÆ°Æ¡ng
- Nháº¥n "Xuáº¥t PDF" Ä‘á»ƒ táº£i file PDF
- Nháº¥n "ğŸ“§" Ä‘á»ƒ gá»­i email

## Cáº¥u trÃºc file Excel

File Excel cáº§n cÃ³ cÃ¡c cá»™t sau:
- Há» vÃ  tÃªn
- MÃ£ nhÃ¢n viÃªn
- Bá»™ pháº­n
- Chá»©c vá»¥
- Email
- NgÃ y cÃ´ng thá»±c táº¿
- Má»©c lÆ°Æ¡ng
- Tá»· lá»‡ hÆ°á»Ÿng
- Sá»‘ xe kÃ½
- LÆ°Æ¡ng tÄƒng ca
- ThÆ°á»Ÿng
- Phá»¥ cáº¥p Äƒn
- Phá»¥ cáº¥p trÃ¡ch nhiá»‡m
- BHXH
- Kháº¥u trá»« Äƒn
- Kháº¥u trá»« qui cháº¿
- Thuáº¿ TNCN
- Kháº¥u trá»« khÃ¡c

## CÃ´ng thá»©c tÃ­nh lÆ°Æ¡ng

1. **LÆ°Æ¡ng thá»±c táº¿** = (Má»©c lÆ°Æ¡ng Ã— Tá»· lá»‡ hÆ°á»Ÿng) Ã— (NgÃ y cÃ´ng thá»±c táº¿ Ã· 24)
2. **Tá»•ng thu nháº­p** = LÆ°Æ¡ng thá»±c táº¿ + LÆ°Æ¡ng tÄƒng ca + ThÆ°á»Ÿng + Phá»¥ cáº¥p Äƒn + Phá»¥ cáº¥p trÃ¡ch nhiá»‡m
3. **Tá»•ng kháº¥u trá»«** = BHXH + Kháº¥u trá»« Äƒn + Kháº¥u trá»« qui cháº¿ + Thuáº¿ TNCN + Kháº¥u trá»« khÃ¡c
4. **Thá»±c lÄ©nh** = Tá»•ng thu nháº­p - Tá»•ng kháº¥u trá»«

## Backend API

### Endpoints
- `GET /health` - Health check
- `POST /api/test-connection` - Test SMTP connection
- `POST /api/send-email` - Send email

### Cáº¥u hÃ¬nh SMTP
```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
```

## YÃªu cáº§u há»‡ thá»‘ng

- TrÃ¬nh duyá»‡t web hiá»‡n Ä‘áº¡i (Chrome, Firefox, Safari, Edge)
- Káº¿t ná»‘i internet Ä‘á»ƒ táº£i cÃ¡c thÆ° viá»‡n CDN vÃ  backend API
- Quyá»n ghi file Ä‘á»ƒ táº£i PDF

## ThÆ° viá»‡n sá»­ dá»¥ng

### Frontend
- **Tailwind CSS**: Framework CSS
- **Font Awesome**: Icon
- **SheetJS**: Xá»­ lÃ½ file Excel
- **jsPDF**: Táº¡o file PDF
- **html2canvas**: Chuyá»ƒn Ä‘á»•i HTML sang hÃ¬nh áº£nh

### Backend
- **Express.js**: Web server
- **Nodemailer**: Gá»­i email
- **CORS**: Cross-origin requests
- **dotenv**: Environment variables

## Deploy

### Frontend (GitHub Pages)
1. Push code lÃªn GitHub
2. Enable GitHub Pages trong repository settings
3. Chá»n branch main vÃ  folder root

### Backend (Render.com)
Xem chi tiáº¿t táº¡i file `DEPLOY.md`

## Há»— trá»£

Náº¿u cÃ³ váº¥n Ä‘á» hoáº·c cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡:
- Email: support@vtpa.com
- Hotline: 0902279898

## PhiÃªn báº£n

- Version: 2.0.0
- NgÃ y cáº­p nháº­t: 20/06/2025
- TÃ¡c giáº£: VTPA Development Team 